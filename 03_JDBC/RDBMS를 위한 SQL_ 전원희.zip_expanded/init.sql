--TEACHER 테이블 생성

CREATE TABLE TEACHER(
       TEACHER_ID NUMBER CONSTRAINT TEACHERID_PK PRIMARY KEY, 
       TEACHER_NAME VARCHAR2(30)CONSTRAINT TEACHERNAME_NT NOT NULL, 
       TEACHER_EMAIL VARCHAR2(50),
       HIRE_DATE DATE,
       SUBJECT VARCHAR2(30),
       CONSTRAINT EMAIL_UQ UNIQUE(TEACHER_EMAIL)
);

COMMENT ON COLUMN TEACHER.TEACHER_ID IS '강사 고유번호';
COMMENT ON COLUMN TEACHER.TEACHER_NAME IS '강사 이름';
COMMENT ON COLUMN TEACHER.TEACHER_EMAIL IS '이메일';
COMMENT ON COLUMN TEACHER.HIRE_DATE IS '입사일';
COMMENT ON COLUMN TEACHER.SUBJECT IS '전공 분야';

INSERT INTO TEACHER VALUES(10, '전원희', 'HI@KHKH.COM', '2021/03/02', '빅데이터');
INSERT INTO TEACHER VALUES(11, '전다연', 'HELLO@KHKH.COM', NULL, '사회복지학과');
INSERT INTO TEACHER VALUES(12, '홍길동', 'SUMMER@KHKH.COM', NULL, '간호학과');
INSERT INTO TEACHER VALUES(13, '고길동', 'WITTER@KHKH.COM', '2025/01/01', NULL);
INSERT INTO TEACHER VALUES(14, '김길동', 'SEOUL@KHKH.COM', '2024/04/11', '행정학과');

SELECT * FROM TEACHER;

--LECTURE 테이블 생성
DROP TABLE LECTURE;
CREATE TABLE LECTURE(
       LECTURE_ID NUMBER CONSTRAINT LECTURID_PK PRIMARY KEY, 
       LECTURE_TITLE VARCHAR2(30) CONSTRAINT LECTURETITLE_NT NOT NULL, 
       TEACHER_ID NUMBER
       CONSTRAINT TEACHERID_FK REFERENCES TEACHER(TEACHER_ID),
       INDEX_COUNT NUMBER ,
       LECTURE_CATEGORY VARCHAR2(30),
       START_DATE DATE,
       END_DATE DATE
);

COMMENT ON COLUMN LECTURE.LECTURE_ID IS '강의 고유번호';
COMMENT ON COLUMN LECTURE.LECTURE_TITLE IS '강의 제목';
COMMENT ON COLUMN LECTURE.TEACHER_ID IS ' 강의 담당 강사의 ID';
COMMENT ON COLUMN LECTURE.INDEX_COUNT IS '수강인원';
COMMENT ON COLUMN LECTURE.LECTURE_CATEGORY IS '강의 분류 ';
COMMENT ON COLUMN LECTURE.START_DATE IS '강의 시작일';
COMMENT ON COLUMN LECTURE.END_DATE IS '강의 종료일 ';

INSERT INTO LECTURE VALUES(20, '빅데이터란?', '10', '25','JAVA', '2024/05/01', NULL);
INSERT INTO LECTURE VALUES(21, '사회복지론', '11', '16','사회복지론', '2021/03/02', '2025/01/04');
INSERT INTO LECTURE VALUES(22, '간호학이란?', '12', '40','NURSING', NULL, NULL);
INSERT INTO LECTURE VALUES(23, '아몰랑', '13', '20', 'PYTHON','2023/06/03', NULL);
INSERT INTO LECTURE VALUES(24, '행정학론', '14', '25','행정', NULL, NULL);

SELECT * FROM LECTURE;

--STUDENT 테이블 생성

CREATE TABLE STUDENT(
       STUDENT_ID NUMBER CONSTRAINT STUDENTID_PK PRIMARY KEY, 
       STUDENT_NAME VARCHAR2(30) CONSTRAINT STUDENTNAME_NT NOT NULL, 
       STUDENT_GRADE NUMBER CONSTRAINT STUDENTGRADE_NT NOT NULL,
       STUDENT_EMAIL VARCHAR2(50) ,
       JOIN_DATE DATE
);
       
COMMENT ON COLUMN STUDENT.STUDENT_ID IS '수강생 고유번호';
COMMENT ON COLUMN STUDENT.STUDENT_NAME IS '수강생 이름';
COMMENT ON COLUMN STUDENT.STUDENT_GRADE IS '수강 등급';
COMMENT ON COLUMN STUDENT.STUDENT_EMAIL IS '수강생 이메일';
COMMENT ON COLUMN STUDENT.JOIN_DATE IS '등록일';

INSERT INTO STUDENT VALUES(30, '유한정', '2', NULL, NULL);
INSERT INTO STUDENT VALUES(31, '유부은', '3', 'DAEJEON@H.COM', NULL);
INSERT INTO STUDENT VALUES(32, '신윤주', '1', NULL, '2024/06/30');
INSERT INTO STUDENT VALUES(33, '김기수', '4', 'HONGDAE@QUDTLS.COM', '2023/08/25');
INSERT INTO STUDENT VALUES(34, '김이서', '3', NULL, '2025/08/07');

--ENROLLMENT 테이블 생성

CREATE TABLE ENROLLMENT(
       ENROLLMENT_ID NUMBER CONSTRAINT ENROLLMENTID_PK PRIMARY KEY, 
       STUDENT_ID NUMBER(30)
       CONSTRAINT STUDENTID_FK REFERENCES STUDENT(STUDENT_ID) ,
       LECTURE_ID NUMBER
       CONSTRAINT LECTUREID_FK REFERENCES LECTURE(LECTURE_ID),
       ENROLL_DATE DATE ,
       STATUS CHAR(1)
       CONSTRAINT STATUS_CK CHECK(STATUS IN ('Y','N')),
       GRADE_SCORE NUMBER
);

COMMENT ON COLUMN ENROLLMENT.ENROLLMENT_ID IS '수강기록 고유번호';
COMMENT ON COLUMN ENROLLMENT.STUDENT_ID IS '수강생 ID';
COMMENT ON COLUMN ENROLLMENT.LECTURE_ID IS '강의 ID';
COMMENT ON COLUMN ENROLLMENT.ENROLL_DATE IS '수강 등록일';
COMMENT ON COLUMN ENROLLMENT.STATUS IS '수강 상태';
COMMENT ON COLUMN ENROLLMENT.GRADE_SCORE IS '성적 점수';

INSERT INTO ENROLLMENT VALUES(40, '30', '20', NULL, 'Y', '90');
INSERT INTO ENROLLMENT VALUES(41, '31', '22', NULL, 'Y', '96');
INSERT INTO ENROLLMENT VALUES(42, '32', '24', NULL, 'N', '88');
INSERT INTO ENROLLMENT VALUES(43, '33', '21', NULL, 'Y', '85');
INSERT INTO ENROLLMENT VALUES(44, '34', '23', NULL, 'N', '77');
